                                                   Web应用架构设计报告
                                      
                                      ——校园二手交易平台

一.概述

本文档描述了校园二手交易平台的架构设计，预期读者为系统分析师，程序员和用户。

二．目的

编写此文档的目的是使整个web应用开发过程更加规范有序，为后面的开发人员提供一个依据。

三.项目背景

随着计算机网络的发展，计算机电子商务也应用而生。在学校里学生们总会有些不用的东西，但又舍不得扔掉，所以我们建立一个二手交易平台，供他们自由买卖，实现资源合理应用。

四.架构设计

4.1.架构分析

　　　校园二手商品交易平台拥有的客户通常只是大学校园网的用户，所以系统规模上来讲不会很大。从经济上来说，为了降低成本，选择的开发工具和服务器为免费的开源软件。根据本系统的特点，考虑到各种架构的优缺点，我们选择了开发成本较低的基于Web的B/S模式，而非成本费用相对较高的C/S模式。

C/S结构，即客户机和服务器结构，服务器通常采用高性能的PC，工作站或小型机，并采用大型数据库系统，如Oracle，SqlSever等，客户端需要做安装专用的客户端软件，这种模式将应用一分为二，服务器负责数据管理，客户机完成用户的交互任务。

C/S体系结构的优点是：

(1)应用服务器进行数据负荷较轻。最简单的 C/S架构体系结构应用有两部分组成系，及客户应用程序和服务器应用程序。由于应用了较多的客户端计算能力，所以相对来说，服务器的运动负荷较小。


(2)能够减小网络流量，提高事务处理速度。他可以充分利用两端硬件环境的优势，将任务合理分配到client端和sever端，降低了系统的通讯开销。

C/S体系结构的缺点：

(1)开放性不够。

(2)开发成本较高。比如需要根据不同的客户端操作系统开发不同版本的客户端软件，极大增加开发成本。

(3)高昂的维护成本，比如网络管理工作人员既要对服务器维护管理，又要对服务端维护和管理，这就要高昂的投资和复杂的技术支持，维护成本很高。

而B/S即浏览器服务器结构，就是只安装一个服务器，而客户端采用浏览器服务软件，它是随着internet兴起，对C/S改进的一种结构，主要利用了不断成熟的www浏览器技术，并结合多种Script语言和ActiveX技术，在这种结构下，用户工作界面是通过www浏览器来实现，很少事物逻辑在前端实现，但是主要事物逻辑在客户端实现。

在B/S体系结构系统中，用户通过浏览器在网络上的许多服务器发出请求，服务器对浏览器的请求进行处理，将用户所需信息发送到浏览器，而其余如数据请求，加工，结果返回以及动态网页生成，对数据库的访问和应用程序的执行等工作全部由服务器完成。

相比C/S体系结构来说，B/S体系结构的优点主要有以下几点：
　　　
(1)简化工作。B/S结构下软件安装在服务器端即可解决问题，再做更改时，只需调整服务器端即可.

(2)更好地保障数据安全。对B/S结构下软件来讲，，其数据集中在中央数据库，，可有效的保护数据的安全。

(3)不受网络的限制。C/S结构软件主要适用于局域网内部用户或宽带用户，而B/S结构软件则适合与任何网络结构，尤其适合于宽带不能到达的地方。

根据以上B/S和C/S体系结构优缺点的分析，以及结合校园二手交易平台系统的特点，决定采用B/S体系结构  

4.2设计思想

![pp1][1]
[1]:http://ww1.sinaimg.cn/bmiddle/aa6201c5jw1e591mrd6t4j20hg0b0aas.jpg

Web应用的三层架构：

将Web应用中组件划分

– 展示层: 封装和用户或者其它系统交互 (i.e.,浏览器)

– 应用或逻辑层:组成业务逻辑

– 数据层:封装持久存储    

![pp2][2]
[2]:http://ww4.sinaimg.cn/bmiddle/aa6201c5jw1e591mtiidhj20gr05haaj.jpg
    
系统主要运行在Tomcat这个Web容器中，各个模块对数据库的访问都通过JavaBeans来实现，JavaBeans为数据库的连接建立一个连接池，将对数据库的连接请求池化,控制有效连接数,可确保系统及数据库管理系统的稳定运行。

4.3模块划分

![pp3][3]
[3]:http://ww4.sinaimg.cn/bmiddle/aa6201c5jw1e591mone95j20m10i4412.jpg

4.3.1模块描述


系统主要设计了用户设置功能、发布信息功能、信息管理功能、搜索信息功能，留言功能，及系统管理功能模块。

用户设置功能主要是用户注册必须填写所要求的个人资料，完成个人资料登入。

发布信息功能主要是为已注册用户的服务，登陆的用户可以即时发布自己的二手商品信息，立刻就能浏览到。这是本系统的主要功能。

信息管理功能是帮助已发表信息的的用户管理自身发布的二手商品信息的同时也管理短消息信息。此项功能也主要是服务于注册用户。

搜索信息功能是面向所有登陆到本系统的人员的，采用模糊查询的方法，篇历所有二手商品信息，搜索出浏览者感兴趣的内容。

留言功能分为两种，一种是对某一二手商品信息进行留言，还可以查看该信息的其他留言；另一种是短消息的，可以在用户与用户之间，也可以在系统管理员与用户之间进行短消息联系。留言功能可在信息管理功能中进行相应的管理。该项功能也主要是面向注册用户的。

系统管理功能是系统管理员对系统所有信息资源进行统一管理的一个模块。只针对系统管理员帐户，登陆方式采用了帐户加验证码机制，提高该模块的安全级别。

4.3.2模块接口设计

　　　在实现系统功能的时候，通常会首先定义好功能的接口，方便模块之间的通信。在本系统中，我们将信息浏览和信息搜索设置为接口，供多个模块使用。在今后的设计实现过程中，我们还会根据需要及时添加接口。


